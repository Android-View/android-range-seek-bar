language: android
jdk: oraclejdk7
android:
  components:
  - build-tools-20.0.0
  - android-21
script:
- ./gradlew clean build
before_install:
- openssl aes-256-cbc -K $encrypted_ee19969afbf8_key -iv $encrypted_ee19969afbf8_iv
  -in deploy/secring.gpg.enc -out deploy/secring.gpg -d
env:
  global:
  - signing.secretKeyRingFile=deploy/secring.gpg
  - secure: kaqqiHrQhVXjFecwDlPA7U2cDQJIR8Pzc8SQFJSd05h5hLXeTJ71bBwFWfpRrxqoHZzxX18nt8WX28gpmGWxOBnSZGkG7b/sIowZzxcEMU6snqcR6wRKb9GMK4gOm84sDQArYfkhZfxECFBshdh7KDzZyowRZ3y2OgmhTXjpF8PcnBg8DUJLoLefTtQFYGHm9s9DRAvoMxP/JdGq4UmhaqelfArIa3cFgXt886Snr/nWIG4gM54jJ73K45aga7d1LWHWxLj3TmFW91Jc8a9bi9RsvqNzfDM912H31CZlF+t6dPVfNQtqN0UAU9VGJwuLXhBncyIIF6s4WZqA/OaL2siOvB0pHiWjNTPaVkXxVo/3Tu2oPv7cBXdyU/ysqf001vLhb+Oe7hVKdi2sUN07dM4fD9QGX23kFDb3x2HxmZ9k7Qknn+hyOF/my+A6BM8o48wPjp7LNxgC1kON1SzVVLdp6U/6GoBfnFWIjaHA7c0pjnjbG1+yCiOl/OgEar5hHgg7WThOPbt82Xpdkhqjw3G75yMixeJ1oX5R5I2P1FFB/KH1h0Bd+4zdnQK73Z+NgSQ+7hNIw/8Nkur2D1f6sQswnUKQad1/erO1aHKNotlPUCWSYIBU/HN2/A0BTy4wLairzz2868knVctXLVXf16G/Gm3WcAZIaIaiEgTL9LQ=
  - secure: ejT20N27Nz1VBk5DMhPwm3Hy0yLws1RJOoXRgvIr0OTIJjBvbwnM6Ae+Xz3re+s4oowL8AkfH831/gx0Btq1dJWK31dVC5+lEE0TJ5sA2yxNKyPikUn8KESg+VQpxml1u0g8VGALZuD+z4i3OjllxpwGgWK0hhdkvtEkU+Atej+OcVsBK32fWZiie8bKcYAEmxEAhelD0E4XdMR3LRXdLMPHza/Zw6saPSBFn3+k/5e+QnlgBZmwigdS7hbzl6bBaMmQhN/I4NXSU2VHZuHnVehqDYkhEo2teN0Yv5ME/+Q1580SJ7CQOi8QUEZSuqUjTi81618BlnT5rT2G7zZ61bbRBzssxEK2XUhy0NGr5kMC6muPoVBbmVFUbBsn1qHduEoYsvboiF8pBMqBeQp4IQr6bonJBxKnqhg60VIhoNN8kie7bSX64LfevKAukGGVV/ayp8jOxslTMSl2WSo1RrExU3qxQY3ff3Xn7UEIQg2kHWxvylWEpWbQiq/OrwMNGcjVAEROEFHyUwIjdAl95CRa+dVe87+PjwsUx4zG5iV276cEeh/KpLRhfBrMntM5soCSz7CX5mIPDOhtgTE4XoxQufbdqFF0PEG4HgQSHAlGOwigQrjFyxG4jQXNLXLUx7ndApTeU0oxOt/EbZun/Qj9RpqotArWsUgz99Ti+Xs=
  - secure: JIRgY8J2rMmf1J0DPFqdVihnRD7haIuKOMslJAPSNfvQA6hiC/k1LrVEJ3k6cs1nWTGjSpSi4sKXwe+ngxkDINVMkkm6PT9YD+CtI/Y/bOZ8p0n2Ao5Od8AojcbivamvGnNcxvtGvBWlxVDDBFpiLWFMV9alA6XQ3+skZLEApVMah1qJro98oyQg2T7YgdOGqvG1E6kfQkLNTaECg395ZtIqf31fQzGjLHvJFdcTIpgRnUwOLTiL8tkUymF0R904Xs4xh/0VSTh6kGucfEqOU0ko4U96jTuQxxS8H21CZhmym5bDwPDxzFuisWDIDgXrIKQZatZBjhOGzErMU/SYZznBR5IsVr2ljh8MoHvJLwRQciB0dyysRK7zy1eMn5wf2vJv3HDS69JU/jHTYfay765whhUQ5Xx5igEDo70cmSvPLoWLkzDeun/ERsoVdgmtD6Y9K1dCNHFoXCb6a2UHJJare4QPQewktbSizqcgK9B0qjAtLjZH7mtnAqn4wYffxUPBdeu7prmWrGwSw0Vh+Cxp/f+9xCgt+yEmNLfeBaDTK877uimr7EDvxVHe9GnonHkPcOKu12Q04iXJlczyccMlHGPHCbWrNgZ82Hz9WdL9X4ap12h5WqB2rgdqD2pm+xVjiBhB9m83IrKjkV7Wn2+BNUv/sFL7Xa9IUXW9wIM=
  - secure: JBSkJtOQ7d8cFroaaQPg5WOxm2XQQR4vgweGo2GHUhvwJkClib+riLFVD+Rg8AflmD2q1LlJZR3S8ZjbiYti1iM1ojQpDwUddmSr2XNfbIKpJZUybXLZH8B+HQKKgtkvDyWzYpqvujaKLGECPAbRBqgRGoM/p1HJa8T7kUZVCtDFd21Rij68jM9tuI9mFyhpiPN7DHu3W1ScOZe8B3XCeQPPAGQmjlC99fqx2yLcW1cdSre/P+NFqgb+pZeq2LWg1wG/upolNOoMFItVogZuza2Z6FPn2/UP51Kr2iGfw1hZFUtjudyo8PGXbvYrkN9TMyMvUzyQE8N0nMkCdLBOvY8rYqAsi+6x4sVv9aR3wjxt0VRkJvoPgZAYeBMArMrKie7EmTshfJS5fiA2iOowvJOUYg/rDVjcFI4KRZk9yG67Y0alOpYaMuPa8ukSd+GL9W6IU1yHHTHLpZfoeuCjVdV7q1DvDx/3R05q7nJbnG9pb3NnJiNTuuvlOBNQjYtXQGGwSLrAA9ARGWA2OCAlALvmLLyCx/ulafjYcBH0NAJQihjgVy2oHiN9mYdpdSSCH5lCHmPplX+s+mmHR+hyoBqZa392falH88FDy471GMVOF8Q5+WlR0qORcM1GTSC+C0MQwmxUAcH/2l3jRjJ1NHwfAamIX7B5pmcPHOIVDHE=
  - secure: ND6mpPQEzPZiGvB8DrT1fZAj5Z8F4JtUORmIqHj5TBlLcDs8wvvWX7Zf8iBmBL31OmbSOE14g7gP1cuv+I0VUDopGq+Xs23Zswr7FRq8MKEld1hZlr5m+zF4ghwGJyuLu/PPKsvh0gllbIjI70Iok099F+JWL5YA6KmD0SoExlSlH9OdWRVcEdktpcpT4yTJmGeP6G3SqL6WmK8fUK3v3ecDsiWztSulLnibK5HU/J8sDcBdHcW/w4ph8ZUgTuU5lv1GS3Ii4ohK98rFkHq93UbXFzFavDKf2LRALIyqbtgu1vM1bgjD8jgnWunWRXr44ZZEsvB56ND4zFLhXVao+diO23KrQCp7b6oQLKL1XlHmL1/ID1H8rRafjqS/RVfTEkRDBiXqGxE+sYdoevmt4CQx2pUP62O8yFlT66mzqoGLuhJl85XqUWW5ZQBRDZIZ5fFztMzgYP8pqfesCWDtNuybmRidIonWmSTwrIaTU2Oj0bzlOJm+XYFml/orCGL13VrOwyomI6Jj4ZHC2Xvz2lHFGFNUD29gZ/4XFhrOXizFjXp3/Zy5mg+Jl7w8ejfRnF3FetGTUn5IAi2wNqfKcW5Q1QeMA9uQR6JRe+FNber4oOwdfDXsA8xhAPVfW1ZhKZwlZGc4gzY8ZfU2wctCE8oVtNwkjRoTq3IOkRJjTgU=
  - secure: dnjSR0mjAWQuEDhYBis+aWwCOayej4H2LGZ3mW7QSk4T+mQK9P5TmxA8U0QDWF6+zrpAxnQodtS2tHr8ga+0+9QaDuYOrwQUSfbN6jEmHhIxbeFuNN8y7b/KHp6MEO63KVOqdjPrU93Tv/DWDABl/aG/b17qwWOdCJFY6BXp3GInrsldGi1BYdyftwVg+8CRRu2BTbsc6K2rPKlZcKNPuENb3ublJevL72weiYQRYT55/ZcR9gZTB8TfyLkZe4QIp83VfFVTDEAMwblkJdAQ+NlVBXfdoRWkM7ZTYGiN863agnXCWI5ZX90iI17+DtmTrKSBAMHnJbF6H6VX1SFW8VUImMLfxLfeGrDlZgZnDocq3RsBA3LFHDMjlmvbWxAZ/NNc/KFn6IWi/FZl9NV/tj1ffVst9KrDehwrhJB1jvpPQF5Jhs4UmzePoMy9pZ693lh6jpHXVrqPacL3ENJPAWj2Hre1FY5Jb3oHRtASuhbc6guXSbfifuHXtklmErPLAeQD/fLVZ3tvJzJe0adHlcz46k6Da8fOChCqWi9L2j3lrqg9SCvMdJo6rbMqJ1m0+U+MAtUIOl420YCg4tZoYNTOi0VzDyOFqKq4x9PEstIxyInFpDcYuFXOtR/lCbFPrOBvazjrNrq9JLRgk0tqIOAYNHuLCUL7JJ4SnAGNRbQ=
  - secure: Z9tmNKCURl2wXsAsQade6mxMAh5IOjyBfy1bsGp0S2j4gh0DSpjjrnWHffc0HtHReR7z4ycNNWHmD1THusXGFYW4/P2g57zjCIFGmRtbXj4xFTsEmnoGgP8YwX5uMPqPoXuM4u1JGwt7mIRMCuqijcQwCO9sgP2RCnMNH29UE1yPGA/kkYqOamBeq5OyTN4LsFNf/uZq9t/aQ//j7N9qYD73lasALdDCqf65Hix54F8DSz89LEp95OcTmjTgqwnBI7sJsOyyL+F+CMLqjPB/lQYiq3Tbh7NVcw/9Cy/V2U0gYQWzLL8fHbU8SYjf8QoMwv5OzNgSQ0MUcqXGJLlabXTYb+p/A6fe3nzWHCL9C0IGvtzwLLxrSqTOShAJ21lyZl0q20cbOIbg763UIsHGmSBx8Ih5MJ8K3hSSP1Ce5O3aWq/e1ZGxdFE4cD5o5N/9twTNzikbXxhzxEKqX+vnXxQkoNu6AjvQiKJuTS+gvg940I6XIrVbnmf8TomYlWPx0UdNlzRp1qDu0Z3M0g+Vvs6QZahKv+AfpnD1Fk2Io3qVDBknry6llu0RCBxEJ7R1ie1pldvP0H7iDurmagZxxZcP+KsErMz/W92MaZ7NiG2qM0eZpLkhXUzyQyZP2LTPIkZ2APNxXj8YHo3aNbNwN1Ppa3risNxkJbybJTMSo28=
deploy:
  provider: script
  script: ./gradlew uploadArchives -PNEXUS_USERNAME="${NEXUS_USERNAME}" -PNEXUS_PASSWORD="${NEXUS_PASSWORD}" -Psigning.keyId="${SIGNING_KEY_ID}" -Psigning.password="${SIGNING_KEY_PASSWORD}" -Pbintray.user="${BINTRAY_USER}" -Pbintray.apikey="${BINTRAY_API_KEY}" -Pbintray.gpg.password="${BINTRAY_GPG_PWD}" -Psigning.secretKeyRingFile=deploy/secring.gpg
  skip_cleanup: true
  on:
    branch: master
